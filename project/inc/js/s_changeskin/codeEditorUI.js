/**
 * @author 一滴水 qq:348681066
 */
function createDirUI(){var UI;UI='<ul>';UI+=' <li id="tit">创建文件夹</li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>当前目录</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>文件夹名</span><input id="newFolder" name="newFolder" type="text" value=""/></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="createDir();"/></li>';UI+='</ul>';return UI};function createFileUI(type,callFun){var UI,type,callFun;UI='<ul>';UI+=' <li id="tit">创建 '+type+' 文件</li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>当前目录</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>新文件名</span>    <input id="newFile" name="newFile" type="text" value="newFile.'+(type.toLowerCase())+'"/></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function createPHPFileUI(){return createFileUI('PHP','createPHPFile')};function createHTMLFileUI(){return createFileUI('HTML','createHTMLFile')};function createCSSFileUI(){return createFileUI('CSS','createCSSFile')};function createJSFileUI(){return createFileUI('JS','createJSFile')};function createXMLFileUI(){return createFileUI('XML','createXMLFile')};function updateResourceUI(type,action){var UI,type,action;UI='<form name="updateResource" id="updateResource" method="POST" enctype="multipart/form-data" action="'+action+'" >';UI+='<ul>';UI+=' <li id="tit">上传 '+type+' 资源文件</li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>当前目录</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>资源</span><input id="newUpload" name="newUpload" type="file" value=""/></li>';UI+=' <li><input id="closeupload" name="closeupload" type="button" value="关闭" onclick="closeWindow();"/><input id="button" type="submit" value="提交" /></li>';UI+='</ul>';UI+='</form>';return UI};function updateImageResourceUI(){return updateResourceUI('Image',moptions.sUrl.updateImageResource)};function updateVedioResourceUI(){return updateResourceUI('Vedio',moptions.sUrl.uploadVideoResource)};function reNameUI(obj){if(obj.type.toLowerCase()=='file'){return reNameFileUI('reNameFile')}else if(obj.type=='dir'){return reNameDirUI('reNameDir')}else{return false}};function reNameFileUI(callFun){var UI,callFun;UI='<ul>';UI+=' <li id="tit">重命名文件名</li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>原文件</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>新名称</span>    <input id="newName" name="newName" type="text" value="newNmae"/></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function reNameDirUI(callFun){var UI,callFun;UI='<ul>';UI+=' <li id="tit">重命名文件夹</li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>当前目录</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>新名称</span>    <input id="newFolder" name="newFolder" type="text" value="newNmae"/></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function moveUI(obj){if(obj.type.toLowerCase()=='file'){return moveFileUI('moveFile')}else if(obj.type=='dir'){return moveDirUI('moveDir')}else{return false}};function moveFileUI(callFun){var UI;UI='<ul>';UI+=' <li id="tit">移动文件  </li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>原位置</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>新位置</span><input id="newFolder" name="newFolder" type="text" value=""/></li>';UI+=' <li id="dirs" class="tree"></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function moveDirUI(callFun){var UI;UI='<ul>';UI+=' <li id="tit">移动文件夹 </li>';UI+=' <li id="wit">600</li>';UI+=' <li><span>原位置</span><input id="dirPath" name="dirPath" type="text" value=""/></li>';UI+=' <li><span>新位置</span><input id="newFolder" name="newFolder" type="text" value=""/></li>';UI+=' <li id="dirs" class="tree"></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function deleteUI(obj){if(obj.type.toLowerCase()=='file'){return deleteFileUI('deleteFile')}else if(obj.type=='dir'){return deleteDirUI('deleteDir')}else{return false}};function deleteFileUI(callFun){var UI,callFun;UI='<ul>';UI+=' <li id="tit">删除文件</li>';UI+=' <li id="wit">600</li>';UI+=' <li><input id="dirPath" name="dirPath" type="hidden" value=""/></li>';UI+=' <li>确定删除<span id="delete"></span></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function deleteDirUI(callFun){var UI,callFun;UI='<ul>';UI+=' <li id="tit">删除文件夹</li>';UI+=' <li id="wit">600</li>';UI+=' <li><input id="dirPath" name="dirPath" type="hidden" value=""/></li>';UI+=' <li>确定删除<span id="delete"></span></li>';UI+=' <li><input id="closeWindow" name="closeWindow" type="button" value="关闭" onclick="closeWindow();"/><input id="button" name="button" type="button" value="提交" onclick="'+callFun+'();"/></li>';UI+='</ul>';return UI};function rightHandMenuUI(){var UI,type,callFun;UI='<ul id="rightHandMenu">';UI+=' <li><span>新建（New）</span>';UI+='		<ul>';UI+=' 		<li id="createDirUI">文件夹</li>';UI+=' 		<li id="createPHPFileUI">PHP</li>';UI+=' 		<li id="createHTMLFileUI">HTML Page</li>';UI+=' 		<li id="createCSSFileUI">CSS</li>';UI+=' 		<li id="createJSFileUI">JS</li>';UI+=' 		<li id="createXMLFileUI">XML</li>';UI+='		</ul>';UI+=' </li>';UI+=' <li><span>上传（Upload）</span>';UI+='		<ul>';UI+=' 		<li id="updateImageResourceUI">图片</li>';UI+=' 		<li id="updateVedioResourceUI">Flv视频</li>';UI+='		</ul>';UI+=' </li>';UI+=' <li id="reNameUI">重名名（Rename）</li>';UI+=' <li id="moveUI">移到（Move）</li>';UI+=' <li id="deleteUI">删除（Delete）</li>';UI+='</ul>';return UI};function createUI(obj,action){var UI,action,UIName;var id=$(obj).attr("id");var type=$(obj).attr("type");var href=getPath($(obj).attr("href"));var dirPath=href;var path=getSuperiorPath(href);if(href.indexOf('.')!="-1"){dirPath=path};var objName='';switch(action){case'createDirUI':break;case'createPHPFileUI':break;case'createHTMLFileUI':break;case'createCSSFileUI':break;case'createJSFileUI':break;case'createXMLFileUI':break;case'updateImageResourceUI':break;case'updateVedioResourceUI':break;case'reNameUI':objName='obj';dirPath=href;break;case'deleteUI':objName='obj';dirPath=href;break;case'moveUI':objName='obj';dirPath=href;break;default:return false;break};$("#createUI").empty();$("#createUI").append(eval(action+'('+objName+')'));$("#dirPath").attr("value",dirPath);var addli='<li><input id="sid" name="sid" type="hidden" value="'+id+'"/></li>';addli+='<li><input id="stype" name="stype" type="hidden" value="'+type+'"/></li>';addli+='<li><input id="spath" name="spath" type="hidden" value="'+path+'"/></li>';addli+='<li><input id="scmd" name="scmd" type="hidden" value="'+action+'"/></li>';$("#createUI ul").append(addli);var objPos=mousePosition(obj);var tit=$("#tit").html();var wit=$("#wit").html();var messContent=$("#createUI").html();$("#createUI").empty();showMessageBox(tit,messContent,objPos,wit);if(action=="deleteUI"){$("#delete").html(href)};if(action=="moveUI"){getCurDirs('/','dirs')};$("dl").find("#"+id).addClass('seleted')}