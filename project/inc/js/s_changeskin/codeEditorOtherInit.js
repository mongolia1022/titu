/**
 * @author 一滴水 qq:348681066
 */
$(function(){$("#rightMenu").empty();$("#rightMenu").append(rightHandMenuUI());$("#rightMenu li").hover(function(){$(this).addClass("iehover")},function(){$(this).removeClass("iehover")});$("#editor-resource-tree a").live('mousedown',function(){$(this).contextMenu('rightMenu',{menuStyle:{width:'120px'},itemStyle:{backgroundColor:'#fff'},itemHoverStyle:{backgroundColor:'#C7E4FF'},shadow:false,bindings:{'createDirUI':function(t){createUI(t,'createDirUI')},'createPHPFileUI':function(t){createUI(t,'createPHPFileUI')},'createHTMLFileUI':function(t){createUI(t,'createHTMLFileUI')},'createCSSFileUI':function(t){createUI(t,'createCSSFileUI')},'createJSFileUI':function(t){createUI(t,'createJSFileUI')},'createXMLFileUI':function(t){createUI(t,'createXMLFileUI')},'updateImageResourceUI':function(t){createUI(t,'updateImageResourceUI')},'updateVedioResourceUI':function(t){createUI(t,'updateVedioResourceUI')},'reNameUI':function(t){createUI(t,'reNameUI')},'moveUI':function(t){createUI(t,'moveUI')},'deleteUI':function(t){createUI(t,'deleteUI')}}})});$("dl a").live('click',function(){var type=$(this).attr("type");var href=getPath($(this).attr("href"));var id=$(this).attr("id");var className=$(this).attr("class");if(type=="file"){getFileCode(href,id,className)}else if(type=="dir"){var child=$(this).attr("child");displayYorN(href,child,id,className,true)}else if(type=="dirs"){var child=$(this).attr("child");$("#newFolder").attr("value",href);displayYorN(href,child,id,className,false)}else{};return false});$("#updateResource").live('submit',function(){var options={beforeSubmit:showRequest,success:showResponse};$(this).ajaxSubmit(options);return false});function showResponse(responseText,statusText){var code=getCmdCode();code+='closeWindow();';message(1,responseText,code)};function showRequest(formData,jqForm,options){var queryString=$.param(formData);var re=/^[^\[\]\{\}\+\*\|\^\$\?"'<>]*$/;for(var i=0;i<formData.length;i++){if(!formData[i].value){alert('请填写信息！');return false};if(!re.test(formData[i].value)){alert('信息含有非法字符！');return false}};return true}});